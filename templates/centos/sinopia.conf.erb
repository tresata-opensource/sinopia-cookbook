# Ubuntu upstart file at /etc/init/creation-service.conf
# Automatically Generated by Chef

description     "Synopia NPM cache & private repo server"

start on (starting network-interface
          or starting network-manager
          or starting networking)

stop on runlevel [!023456]

respawn

script
    exec su -s /bin/sh -c 'exec "$0" "$@"' <%= node['sinopia']['user'] %> -- sinopia -c <%= File.join(node['sinopia']['confdir'], 'config.yaml') %>
end script

